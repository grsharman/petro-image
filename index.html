<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenSeaDragon Split View Example</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OpenSeadragonScalebar/2.0.0/openseadragon-scalebar.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="viewer-container"></div>
    <div class="controls">
      <div>
        <input
          type="checkbox"
          id="image1"
          checked
          onclick="toggleImage(this, 0)"
        />
        <label for="image1">XPL1</label>
        <input
          type="checkbox"
          id="image2"
          checked
          onclick="toggleImage(this, 1)"
        />
        <label for="image2">XPL2</label>
        <input
          type="checkbox"
          id="image3"
          checked
          onclick="toggleImage(this, 2)"
        />
        <label for="image3">PPL</label>
      </div>
      <hr />
      <div>

        <details closed>
          <summary>Grid</summary>
          <div>
          <input
          type="checkbox"
          id="show-grid"
          checked
          onclick="toggleGrid(this)"
        />
        <label for="show-grid">Show grid</label>
      </div>
          <input
            id="pixels-per-unit"
            class="number-input"
            type="number"
            step="any"
            value="100"
            min="1"
            onchange="enableGridButtons()"
          />
          pixels/
          <select id="unit" onchange="enableGridButtons()">
            <option>m</option>
            <option>mm</option>
            <option>Î¼m</option>
            <option>nm</option>
          </select>
          <!- TODO: Limit range of xmin and xmax sliders so they can't swap places -->
          <!- TODO: Make some way of seeing the values so you know what you're doing -->
          <div>
            <label for="x_min">x<sub>min</sub></label>
            <input type="range" id="grid-left" name="x_min"
            min="0" value = "20" max="100" onchange="enableGridButtons()"/>
            <span class="slider-value" id="grid-left-value">20</span>
          </div>
          <div>
            <label for="x_max">x<sub>max</sub></label>
            <input type="range" id="grid-right" name="x_max" min="0" value = "80"
            max="100" onchange="enableGridButtons()"/>
            <span class="slider-value" id="grid-right-value">80</span>
          </div>
          <div>
            <label for="y_min">y<sub>min</sub></label>            
            <input type="range" id="grid-top" name="y_min" min="0" value = "0"
            max="100" onchange="enableGridButtons()"/>
            <span class="slider-value" id="grid-top-value">10</span>
          </div>
          <div>
            <label for="y_max">y<sub>max</sub></label>            
            <input type="range" id="grid-bottom" name="y_max" min="0" value = "90"
            max="100" onchange="enableGridButtons()"/>
            <span class="slider-value" id="grid-bottom-value">90</span>
          </div>
          <div>
            <label for="step-size">step:</label>
            <input
              id="step-size"
              class="number-input"
              type="number"
              value="500"
              min="2"
              onchange="enableGridButtons()"
            />
            <label for="no-points"># points:</label>
            <input
              id="no-points"
              class="number-input"
              type="number"
              value="600"
              min="2"
              onchange="enableGridButtons()"
            />
          </div>
          <button id="apply-grid-settings" onclick="applyGridSettings()">
            Apply
          </button>
          <button
            id="restore-grid-settings"
            onclick="restoreGridSettings()"
            disabled
          >
            Restore
          </button>
        </details>
      </div>
      <div>
        <details closed>
          <summary>Annotate</summary>
          <div>
            <input
            type="checkbox"
            id="show-annotations"
            checked
            onclick="toggleAnnotation(this)"
          />
          <label for="show-annotation">Show annotation</label>
          <span class="info-button">?
            <span class="tooltip-text">Shift+click for points. Ctrl+click and drag for rectangles.</span>
          </span>
          </div>
          <div>
            <input type="file" id="csvFileInput" accept=".csv" />
          </div>
          <div>
            <button id="loadAnnotationsBtn">Load</button>
            <button id="exportBtn">Export</button>
          </div>
        </details>
      </div>
    </div>
    <script src="js/openseadragon.min.js"></script>
    <script src="js/openseadragon-scalebar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="index.js"></script>
  </body>
</html>
