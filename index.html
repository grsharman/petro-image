<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSeaDragon Spit View Example</title>
    <style>
        #viewer1, #viewer2 {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 50%;
            height: 100%;
        }
        #viewer1 {
            left: 0;
        }
        #viewer2 {
            right: 0;
        }
    </style>
</head>
<body>
    <div id="viewer1"></div>
    <div id="viewer2"></div>
    <script src="js/openseadragon.min.js"></script>
    <script>
        var viewer1 = OpenSeadragon({
            id: "viewer1",
            prefixUrl: "js/images/",
            tileSources: "https://raw.githubusercontent.com/grsharman/petro-image/main/images/O48-013.dzi"
        });

        var viewer2 = OpenSeadragon({
            id: "viewer2",
            prefixUrl: "js/images/",
            tileSources: "https://raw.githubusercontent.com/grsharman/petro-image/main/images/O48-014.dzi"
        });

        function synchronizeViewers(master, slave) {
            master.addHandler('animation', function() {
                var masterCenter = master.viewport.getCenter();
                var masterZoom = master.viewport.getZoom();
                slave.viewport.panTo(masterCenter, true);
                slave.viewport.zoomTo(masterZoom, null, true);
            });

            master.addHandler('resize', function() {
                slave.viewport.viewportToImageRectangle(master.viewport.getBounds(true));
            });
        }
        // Stuff
        synchronizeViewers(viewer1, viewer2);
        synchronizeViewers(viewer2, viewer1);

        document.body.addEventListener('mousemove', function(event) {
            var width = window.innerWidth;
            var mouseX = event.clientX;

            if (mouseX < width / 2) {
                viewer1.container.style.width = '100%';
                viewer2.container.style.width = '0%';
            } else {
                viewer1.container.style.width = '0%';
                viewer2.container.style.width = '100%';
            }
        });
    </script>
</body>
</html>